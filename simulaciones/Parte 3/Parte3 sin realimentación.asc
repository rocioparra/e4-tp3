Version 4
SHEET 1 880 692
WIRE 64 48 -368 48
WIRE 240 64 160 64
WIRE 64 80 -368 80
WIRE 272 96 160 96
WIRE 320 96 272 96
WIRE 64 112 -368 112
WIRE -528 144 -576 144
WIRE -480 144 -528 144
WIRE -448 144 -448 128
WIRE -448 144 -480 144
WIRE -416 160 -416 128
WIRE -416 176 -416 160
WIRE 112 176 112 112
WIRE 272 176 272 96
WIRE -480 192 -480 144
WIRE -464 192 -480 192
WIRE -464 240 -528 240
WIRE -528 256 -528 240
WIRE -576 352 -576 144
WIRE -416 352 -576 352
WIRE -416 496 -416 432
FLAG 240 64 torque
FLAG 320 96 angular_speed
FLAG -464 80 0
FLAG 112 240 0
FLAG -416 496 0
FLAG 272 256 0
FLAG -528 144 FREQ
FLAG -528 256 0
FLAG -416 256 0
FLAG -416 160 V
SYMBOL Pwr\\3ph_ACMotor 112 80 R0
SYMATTR InstName U1
SYMATTR Value2 Zp=2 J=20m DY=1
SYMBOL Pwr\\3ph_gen -416 80 R0
SYMATTR InstName U2
SYMATTR Value sym=1 f=50 amp=325 phi=0 Ro=1 N={2*k+1}
SYMBOL cap 96 176 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL voltage -416 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL({t1} {f/k} {t2} {f})
SYMBOL bi 272 176 R0
SYMATTR InstName B1
SYMATTR Value I=7*(tanh(100*time-255)+tanh(450-100*time))
SYMBOL e -416 160 R0
SYMATTR InstName E1
SYMATTR Value {V/f}
TEXT 496 384 Left 2 !.param V=380 f=50 k=10
TEXT 504 440 Left 2 !+ t1=1/f t2=20/f
TEXT 512 488 Left 2 !.tran 7
